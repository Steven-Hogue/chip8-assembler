include "utils.asm"

define CHAR_SPACING 8

write_in_font:
	CALL push_regs

	; Get the ASCII offset into V3
	LD VF, 0x21
	SUB V3, VF

	; Now add repr_start to V3
	LD I, repr_start
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	ADD I, V3
	
	DRW V1, V2, 10 ; Draw
	
	CALL pop_regs
    RET

	
write_text_i:
	write_text_i_l1:
		LD V0, [I]
		LD V3, V0
		SNE V3, 0x0
			RET
		
		CALL write_in_font
		ADD V1, CHAR_SPACING

		LD VF, 1
		ADD I, VF
	
		JP write_text_i_l1


repr_start:
; Symbols
db ; !
	%00010000,
	%00010000,
	%00010000,
	%00010000,
	%00010000,
	%00010000,
	%00010000,
	%00000000,
	%00010000,
	%00000000
db ; "
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; #
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; $
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; %
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; &
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; '
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; (
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; )
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; *
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; +
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; ,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; -
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; .
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; /
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000

db ; 0
	%01111100,
	%10000010,
	%10000010,
	%10000010,
	%10000010,
	%10000010,
	%10000010,
	%10000010,
	%01111100,
	%00000000
db ; 1
	%00001000,
	%00011000,
	%00111000,
	%00001000,
	%00001000,
	%00001000,
	%00001000,
	%00001000,
	%00111100,
	%00000000
db ; 2
	%01111100,
	%10000010,
	%00000010,
	%00000010,
	%00000100,
	%00011000,
	%00100000,
	%01000000,
	%11111110,
	%00000000
db ; 3
	%01111100,
	%10000010,
	%00000010,
	%00000010,
	%00111100,
	%00000010,
	%00000010,
	%10000010,
	%01111100,
	%00000000
db ; 4
	%10000100,
	%10000100,
	%10000100,
	%10000100,
	%11111110,
	%00000100,
	%00000100,
	%00000100,
	%00000100,
	%00000000
db ; 5
	%11111110,
	%10000000,
	%10000000,
	%10000000,
	%11111100,
	%00000010,
	%00000010,
	%10000010,
	%01111100,
	%00000000
db ; 6
	%01111100,
	%10000010,
	%10000000,
	%10000000,
	%11111100,
	%10000010,
	%10000010,
	%10000010,
	%01111100,
	%00000000
db ; 7
	%11111110,
	%00000010,
	%00000100,
	%00001000,
	%00010000,
	%00100000,
	%00100000,
	%00100000,
	%00100000,
	%00000000
db ; 8
	%01111100,
	%10000010,
	%10000010,
	%10000010,
	%01111100,
	%10000010,
	%10000010,
	%10000010,
	%01111100,
	%00000000
db ; 9
	%01111100,
	%10000010,
	%10000010,
	%10000010,
	%01111110,
	%00000010,
	%00000010,
	%10000010,
	%01111100,
	%00000000

; Symbols
db ; :
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; ;
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; <
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; =
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; >
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; ?
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; @
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000

; Letters
db ; A
	%00010000,
	%00101000,
	%01000100,
	%10000010,
	%10000010,
	%11111110,
	%10000010,
	%10000010,
	%10000010,
	%00000000
db ; B
	%11111100,
	%10000110,
	%10000010,
	%10000110,
	%11111100,
	%10000110,
	%10000010,
	%10000110,
	%11111100,
	%00000000
db ; C
	%01111100,
	%11000110,
	%10000010,
	%10000000,
	%10000000,
	%10000000,
	%10000010,
	%11000110,
	%01111100,
	%00000000
db ; D
	%11111100,
	%10000110,
	%10000010,
	%10000010,
	%10000010,
	%10000010,
	%10000010,
	%10000110,
	%11111100,
	%00000000
db ; E
	%11111110,
	%10000000,
	%10000000,
	%10000000,
	%11111000,
	%10000000,
	%10000000,
	%10000000,
	%11111110,
	%00000000
db ; F
	%11111110,
	%10000000,
	%10000000,
	%10000000,
	%11111000,
	%10000000,
	%10000000,
	%10000000,
	%10000000,
	%00000000
db ; G
	%01111100,
	%11000110,
	%10000010,
	%10000000,
	%10000000,
	%10000000,
	%10001110,
	%11000010,
	%01111100,
	%00000000
db ; H
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %11111110,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %00000000
db ; I
    %11111110,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %11111110,
    %00000000
db ; J
    %11111110,
    %00000010,
    %00000010,
    %00000010,
    %00000010,
    %00000010,
    %10000010,
    %11000110,
    %01111100,
    %00000000
db ; K
    %10000010,
    %10000100,
    %10001000,
    %10010000,
    %11110000,
    %10010000,
    %10001000,
    %10000100,
    %10000010,
    %00000000
db ; L
    %10000000,
    %10000000,
    %10000000,
    %10000000,
    %10000000,
    %10000000,
    %10000000,
    %10000000,
    %11111110,
    %00000000
db ; M
    %10000010,
    %11000110,
    %11101110,
    %10111010,
    %10010010,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %00000000
db ; N
    %10000010,
    %11000010,
    %11100010,
    %10010010,
    %10001110,
    %10000110,
    %10000010,
    %10000010,
    %10000010,
    %00000000
db ; O
    %01111100,
    %11000110,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %11000110,
    %01111100,
    %00000000
db ; P
    %01111100,
    %11000110,
    %10000010,
    %10000110,
    %11111100,
    %10000000,
    %10000000,
    %10000000,
    %10000000,
    %00000000
db ; Q
    %01111100,
    %11000110,
    %10000010,
    %10000010,
    %10000010,
    %10010010,
    %11001110,
    %01111100,
    %00000010,
    %00000000
db ; R
    %11111110,
    %10000010,
    %10000010,
    %10000010,
    %11111110,
    %10110000,
    %10001000,
    %10000100,
    %10000010,
    %00000000
db ; S
    %01111100,
    %11000010,
    %10000000,
    %11000000,
    %01111100,
    %00000110,
    %00000010,
    %10000110,
    %01111100,
    %00000000
db ; T
    %11111110,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00000000
db ; U
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %11000110,
    %01111100,
    %00000000
db ; V
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %01000100,
    %01000100,
    %00111000,
    %00010000,
    %00000000
db ; W
    %10000010,
    %10000010,
    %10000010,
    %10000010,
    %10010010,
    %10111010,
    %11101110,
    %11000110,
    %10000010,
    %00000000
db ; X
    %10000010,
    %01000100,
    %00101000,
    %00010000,
    %00010000,
    %00101000,
    %01000100,
    %10000010,
    %10000010,
    %00000000
db ; Y
    %10000010,
    %10000010,
    %01000100,
    %00111000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00010000,
    %00000000
db ; Z
    %11111110,
    %00000110,
    %00000100,
    %00001000,
    %00010000,
    %00100000,
    %01000000,
    %11000000,
    %11111110,
    %00000000
db ; [
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; \
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; ]
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; ^
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; _
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000
db ; `
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%11111110,
	%00000000